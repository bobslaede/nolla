

%borderstyle {
  border-width: 0;
  border-color: $inputBorder;
  border-style: solid;
}

.cal {
  @include flexbox();
  @include flex-flow(column nowrap);

  .cal-view {
    @include flexbox();
    @include flex-flow(column nowrap);
    @include flex-grow(1);
  }
  .month {
    @include flex-grow(1);
    @include flexbox();
    @include flex-flow(column nowrap);

    $weekNumberWidth: 2em;
    $weekMinHeight: 6em;

    @extend %borderstyle;
    border-bottom-width: 1px;
    margin-left: $weekNumberWidth;
    margin-top: 10px;

    .header {
      @include flex-grow(0);
      @include flex-shrink(0);
      @include flexbox();
      @include flex-direction(row);
      @include flex-wrap(nowrap);

      @extend %borderstyle;
      border-left-width: 1px;
      border-right-width: 1px;
      border-top-width: 1px;

      .day {
        @include flex-shrink(0);
        @include flex-grow(1);
        margin: 4px;
        text-align: left;
        text-transform: uppercase;
        font-size: $fontSizeSmall;
      }
    }

    .week {
      @include flex-shrink(0);
      @include flex-grow(1);
      min-height: $weekMinHeight;

      @extend %borderstyle;
      border-right-width: 1px;
      border-top-width: 1px;
      position: relative;

      .week-number {
        position: absolute;
        width: $weekNumberWidth;
        left: -$weekNumberWidth;
        top: -1px;
        bottom: -1px;
        background: $white;
        @include flexbox();

        .title {
          font-size: $fontSizeSmall;
          color: $grayLight;
          @include flex-grow(1);
          padding: 3px 0 0 2px;
        }
      }
    }

    .week {
      @include flexbox();
      @include flex-direction(row);
      @include flex-wrap(nowrap);

      .day {
        @include flex-shrink(0);
        @include flex-grow(1);

        @extend %borderstyle;
        border-left-width: 1px;
        padding: 2px;
        position: relative;

        &.active {
          background: $green;
          color: $white;
          .title {
            color: $white;
          }
        }

        .title {
          font-size: $fontSizeSmall;
          color: $gray;
          position: absolute;
          top: 2px;
          right: 2px;
        }
        &.old {
          .title {
            color: $grayLight;
            text-shadow: 1px 1px $white;
          }
        }
      }
    }

  }
}